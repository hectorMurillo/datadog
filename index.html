<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dado Datadog</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            flex-direction: column;
        }

        .scene {
            width: 200px;
            height: 200px;
            perspective: 600px; /* Profundidad de la escena 3D */
            margin-bottom: 30px;
        }

        .dice {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1.5s ease-out; /* Animación suave del giro */
        }

        .face {
            position: absolute;
            width: 200px;
            height: 200px;
            background-color: #632ca6; /* Color lila de Datadog */
            border: 2px solid #4a237a;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            color: white;
            box-sizing: border-box;
        }

        /* Posicionamiento de cada cara en 3D */
        .front  { transform: rotateY(  0deg) translateZ(100px); }
        .back   { transform: rotateY(180deg) translateZ(100px); }
        .right  { transform: rotateY( 90deg) translateZ(100px); }
        .left   { transform: rotateY(-90deg) translateZ(100px); }
        .top    { transform: rotateX( 90deg) translateZ(100px); }
        .bottom { transform: rotateX(-90deg) translateZ(100px); }
        
        /* Logo de Datadog */
        .datadog-logo {
            background-image: url('https://static.datadoghq.com/static/images/logos/logo-v.png');
            background-size: 70%;
            background-repeat: no-repeat;
            background-position: center;
        }

        button {
            padding: 15px 30px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 8px;
            border: none;
            background-color: #632ca6;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #4a237a;
        }

        #result {
            margin-top: 20px;
            font-size: 24px;
            font-weight: bold;
            color: #333;
            min-height: 30px;
        }

    </style>
</head>
<body>

    <div class="scene">
        <div class="dice" id="dice">
            <div class="face front datadog-logo"><img src="./datadog.avif" alt="" width="100"></div> 
            <div class="face back">2</div>
            <div class="face right">3</div>
            <div class="face left">4</div>
            <div class="face top">5</div>
            <div class="face bottom">6</div>
        </div>
    </div>

    <button id="rollButton" class="margin-top:100px;">Lanzar Dado</button>
    <div id="result"></div>

    <script>
        const dice = document.getElementById('dice');
        const rollButton = document.getElementById('rollButton');
        const resultDiv = document.getElementById('result');

        let currentX = 0;
        let currentY = 0;

        rollButton.addEventListener('click', () => {
            // Genera giros aleatorios en múltiplos de 90 grados
            const randomX = Math.floor(Math.random() * 4); // 0, 1, 2, 3
            const randomY = Math.floor(Math.random() * 4); // 0, 1, 2, 3

            // Añade múltiples giros completos para un efecto más visual
            const spinX = 360 * 4; // 4 giros completos
            const spinY = 360 * 4;
            
            // Calcula la nueva posición de rotación
            currentX = spinX + randomX * 90;
            currentY = spinY + randomY * 90;

            // Aplica la transformación CSS para girar el dado
            dice.style.transform = `rotateX(${currentX}deg) rotateY(${currentY}deg)`;
            
            resultDiv.innerText = 'Lanzando...';

            // Espera a que la animación termine para detectar el resultado
            setTimeout(detectResult, 1600); // 1.6 segundos
        });

        function detectResult() {
            // Normaliza los ángulos a un rango de 0-359 grados
            const finalX = currentX % 360;
            const finalY = currentY % 360;

            let resultText = '';

            // Lógica para detectar qué cara está arriba
            if (finalX === 0 && finalY === 0) {
                resultText = '¡Cayó Datadog! (Cara 1)';
            } else if (finalX === 0 && (finalY === 180 || finalY === -180)) {
                resultText = 'Cayó 2';
            } else if (finalX === 0 && (finalY === 270 || finalY === -90)) {
                resultText = 'Cayó 4';
            } else if (finalX === 0 && (finalY === 90 || finalY === -270)) {
                resultText = 'Cayó 3';
            } else if (finalX === 90 || finalX === -270) {
                resultText = 'Cayó 6';
            } else if (finalX === 270 || finalX === -90) {
                resultText = 'Cayó 5';
            }
            
            resultDiv.innerText = resultText;
        }

    </script>
</body>
</html>